<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Probabilistic Circuits · ProbabilisticCircuits.jl</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-136089579-2', 'auto');
ga('send', 'pageview', {'page': location.pathname + location.search + location.hash});
</script><link rel="canonical" href="https://juice-jl.github.io/ProbabilisticCircuits.jl/stable/api/probabilistic_circuits/"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="ProbabilisticCircuits.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">ProbabilisticCircuits.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../manual/demo/">Quick Demo</a></li><li><a class="tocitem" href="../../manual/queries/">Queries</a></li><li><a class="tocitem" href="../../manual/learning/">Learning</a></li><li><a class="tocitem" href="../../manual/gpu/">GPU Support</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">API</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../common/">Common APIs</a></li><li><a class="tocitem" href="../input_dists/">Input Distributions</a></li><li class="is-active"><a class="tocitem" href>Probabilistic Circuits</a></li><li><a class="tocitem" href="../types/">Types </a></li></ul></li><li><a class="tocitem" href="../../installation/">Installation</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API</a></li><li class="is-active"><a href>Probabilistic Circuits</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Probabilistic Circuits</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/master/docs/src/api/probabilistic_circuits.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="api-internal-probabilistic"><a class="docs-heading-anchor" href="#api-internal-probabilistic">Probabilistic Circuits</a><a id="api-internal-probabilistic-1"></a><a class="docs-heading-anchor-permalink" href="#api-internal-probabilistic" title="Permalink"></a></h1><p>This page lists all the API documentation for <code>ProbabilisticCircuits</code> package.</p><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.Categorical" href="#ProbabilisticCircuits.Categorical"><code>ProbabilisticCircuits.Categorical</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A N-value categorical input distribution ranging over integers [0...N-1]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/categorical_dist.jl#L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.FlatVectors" href="#ProbabilisticCircuits.FlatVectors"><code>ProbabilisticCircuits.FlatVectors</code></a> — <span class="docstring-category">Type</span></header><section><div><p>An <code>isbits</code> representation of a <code>AbstractVector{&lt;:AbstractVector}</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/bits_circuit.jl#L96">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.Indicator" href="#ProbabilisticCircuits.Indicator"><code>ProbabilisticCircuits.Indicator</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A input distribution node that places all probability on a single value</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/indicator_dist.jl#L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.Literal" href="#ProbabilisticCircuits.Literal"><code>ProbabilisticCircuits.Literal</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A logical literal input distribution node</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/indicator_dist.jl#L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.NodeType" href="#ProbabilisticCircuits.NodeType"><code>ProbabilisticCircuits.NodeType</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Probabilistic circuit node types</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/abstract_nodes.jl#L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.NodeType-Tuple{ProbCircuit}" href="#ProbabilisticCircuits.NodeType-Tuple{ProbCircuit}"><code>ProbabilisticCircuits.NodeType</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get the probabilistic circuit node type</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/abstract_nodes.jl#L26">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.PlainInnerNode" href="#ProbabilisticCircuits.PlainInnerNode"><code>ProbabilisticCircuits.PlainInnerNode</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A probabilistic inner node</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/plain_nodes.jl#L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.PlainInputNode" href="#ProbabilisticCircuits.PlainInputNode"><code>ProbabilisticCircuits.PlainInputNode</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A probabilistic input node</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/plain_nodes.jl#L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.PlainMulNode" href="#ProbabilisticCircuits.PlainMulNode"><code>ProbabilisticCircuits.PlainMulNode</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A probabilistic multiplication node</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/plain_nodes.jl#L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.PlainProbCircuit" href="#ProbabilisticCircuits.PlainProbCircuit"><code>ProbabilisticCircuits.PlainProbCircuit</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Root of the plain probabilistic circuit node hierarchy</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/plain_nodes.jl#L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.PlainSumNode" href="#ProbabilisticCircuits.PlainSumNode"><code>ProbabilisticCircuits.PlainSumNode</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A probabilistic summation node</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/plain_nodes.jl#L32">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.ProbCircuit" href="#ProbabilisticCircuits.ProbCircuit"><code>ProbabilisticCircuits.ProbCircuit</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Root of the probabilistic circuit node hierarchy</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/abstract_nodes.jl#L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.RegionGraph" href="#ProbabilisticCircuits.RegionGraph"><code>ProbabilisticCircuits.RegionGraph</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Root of region graph node hierarchy</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/structures/rat.jl#L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.read-Union{Tuple{C}, Tuple{AbstractString, Type{C}}} where C&lt;:ProbCircuit" href="#Base.read-Union{Tuple{C}, Tuple{AbstractString, Type{C}}} where C&lt;:ProbCircuit"><code>Base.read</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Base.read(file::AbstractString, ::Type{C}) where C &lt;: ProbCircuit</code></pre><p>Reads circuit from file; uses extension to detect format type, for example &quot;.psdd&quot; for PSDDs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/io/io.jl#L41-L45">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.write-Tuple{AbstractString, ProbCircuit}" href="#Base.write-Tuple{AbstractString, ProbCircuit}"><code>Base.write</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Base.write(file::AbstractString, circuit::ProbCircuit)</code></pre><p>Writes circuit to file; uses file name extention to detect file format.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/io/io.jl#L49-L53">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DirectedAcyclicGraphs.foldup-Union{Tuple{T}, Tuple{ProbCircuit, Function, Function, Function, Type{T}}, Tuple{ProbCircuit, Function, Function, Function, Type{T}, Any}} where T" href="#DirectedAcyclicGraphs.foldup-Union{Tuple{T}, Tuple{ProbCircuit, Function, Function, Function, Type{T}}, Tuple{ProbCircuit, Function, Function, Function, Type{T}, Any}} where T"><code>DirectedAcyclicGraphs.foldup</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">foldup(node::ProbCircuit, 
    f_i::Function, 
    f_m::Function, 
    f_s::Function)::T where {T}</code></pre><p>Compute a function bottom-up on the circuit.  <code>f_in</code> is called on input nodes, <code>f_m</code> is called on product nodes, and <code>f_s</code> is called on sum nodes. Values of type <code>T</code> are passed up the circuit and given to <code>f_m</code> and <code>f_s</code> through a callback from the children.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/traversal.jl#L12-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DirectedAcyclicGraphs.foldup_aggregate-Union{Tuple{T}, Tuple{ProbCircuit, Function, Function, Function, Type{T}}, Tuple{ProbCircuit, Function, Function, Function, Type{T}, Any}} where T" href="#DirectedAcyclicGraphs.foldup_aggregate-Union{Tuple{T}, Tuple{ProbCircuit, Function, Function, Function, Type{T}}, Tuple{ProbCircuit, Function, Function, Function, Type{T}, Any}} where T"><code>DirectedAcyclicGraphs.foldup_aggregate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">foldup_aggregate(node::ProbCircuit, 
    f_i::Function, 
    f_m::Function, 
    f_s::Function, 
    ::Type{T})::T where T</code></pre><p>Compute a function bottom-up on the circuit.  <code>f_in</code> is called on input nodes, <code>f_m</code> is called on product nodes, and <code>f_s</code> is called on sum nodes. Values of type <code>T</code> are passed up the circuit and given to <code>f_m</code> and <code>f_s</code> in an aggregate vector from the children.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/traversal.jl#L29-L39">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.MAP-Tuple{CuBitsProbCircuit, CUDA.CuArray}" href="#ProbabilisticCircuits.MAP-Tuple{CuBitsProbCircuit, CUDA.CuArray}"><code>ProbabilisticCircuits.MAP</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">MAP(bpc::CuBitsProbCircuit, data::CuArray; batch_size, mars_mem=nothing)</code></pre><p>Retruns the MAP states for a given circuit and data on gpu. Missing values should be denoted as <code>missing</code>.</p><p>Note that the MAP states are exact only when the circuit is both decomposable and deterministic, otherwise its just an approximation.</p><ul><li><code>bpc</code>: BitCircuit on gpu</li><li><code>data</code>: CuArray{Union{Missing, data_types...}}</li><li><code>batch_size</code></li><li><code>mars_mem</code>: Not required, advanced usage. CuMatrix to reuse memory and reduce allocations. See <code>prep_memory</code> and <code>cleanup_memory</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/queries/map.jl#L2-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.MAP-Tuple{ProbCircuit, Matrix}" href="#ProbabilisticCircuits.MAP-Tuple{ProbCircuit, Matrix}"><code>ProbabilisticCircuits.MAP</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">MAP(pc::ProbCircuit, data::Matrix; batch_size, Float=Float32)</code></pre><p>Evaluate max a posteriori (MAP) state of the circuit for given input(s) on cpu.</p><p><strong>Note</strong>: This algorithm is only exact if the circuit is both decomposable and determinisitic. If the circuit is only decomposable and not deterministic, this will give inexact results without guarantees.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/queries/map_cpu.jl#L5-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.RAT-Tuple{Any}" href="#ProbabilisticCircuits.RAT-Tuple{Any}"><code>ProbabilisticCircuits.RAT</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">RAT(num_features; input_func::Function = RAT_InputFunc(Literal), num_nodes_region, num_nodes_leaf, rg_depth, rg_replicas, num_nodes_root = 1, balance_childs_parents = true)</code></pre><p>Generate a RAT-SPN structure. First, it generates a random region graph with <code>depth</code>, and <code>replicas</code>.  Then uses the random region graph to generate a ProbCircuit conforming to that region graph.</p><ul><li><code>num_features</code>: Number of features in the dataset, assuming x<em>1...x</em>n</li><li><code>input_func</code>: Function to generate a new input node for variable when calling <code>input_func(var)</code>.</li></ul><p>The list of hyperparamters are:</p><ul><li><code>rg_depth</code>: how many layers to do splits in the region graph</li><li><code>rg_replicas</code>: number of replicas or paritions (replicas only used for the root region; for other regions only 1 parition (inner nodes), or 0 parition for leaves)</li><li><code>num_nodes_root</code>: number of sum nodes in the root region</li><li><code>num_nodes_leaf</code>: number of sum nodes per leaf region</li><li><code>num_nodes_region</code>: number of in each region except root and leaves</li><li><code>num_splits</code>: number of splits for each parition; split variables into random equaly sized regions</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/structures/rat.jl#L253-L269">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.RAT_InputFunc-Tuple{Type, Vararg{Any}}" href="#ProbabilisticCircuits.RAT_InputFunc-Tuple{Type, Vararg{Any}}"><code>ProbabilisticCircuits.RAT_InputFunc</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Default <code>input_func</code> for different types. This function returns another function <code>input_func</code>. Then <code>input_func(var)</code> should generate a new input function with the desired distribution.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/structures/rat.jl#L278-L281">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.balance_sum-Tuple{Vector{ProbCircuit}, Any}" href="#ProbabilisticCircuits.balance_sum-Tuple{Vector{ProbCircuit}, Any}"><code>ProbabilisticCircuits.balance_sum</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Makes sure the sum nodes does not have too many children. Makes balanced sums of sums to reduce children count.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/structures/rat.jl#L154-L156">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.balanced_fully_factorized_leaves-Tuple{AbstractVector}" href="#ProbabilisticCircuits.balanced_fully_factorized_leaves-Tuple{AbstractVector}"><code>ProbabilisticCircuits.balanced_fully_factorized_leaves</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Makes sure input nodes don&#39;t have too many parents. Makes a dummy sum node for each input per partition. Then nodes corresponding to the partition use the dummy node as their children instead of the input node. This way instead of num<em>nodes</em>root * num<em>nodes</em>leaf, we would have num<em>nodes</em>root parents nodes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/structures/rat.jl#L171-L176">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.bits-Tuple{InputDist, Any}" href="#ProbabilisticCircuits.bits-Tuple{InputDist, Any}"><code>ProbabilisticCircuits.bits</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">bits(d::InputDist, heap)</code></pre><p>Appends the required memory for this input dist to the heap.</p><p>Used internally for moving from CPU to GPU.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/input_distributions.jl#L42-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.cleanup_memory-Tuple{CUDA.CuArray, Any}" href="#ProbabilisticCircuits.cleanup_memory-Tuple{CUDA.CuArray, Any}"><code>ProbabilisticCircuits.cleanup_memory</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Cleansup allocated memory. Used internally.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/queries/likelihood.jl#L231-L233">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.clear_memory-Tuple{InputDist, Any, Any}" href="#ProbabilisticCircuits.clear_memory-Tuple{InputDist, Any, Any}"><code>ProbabilisticCircuits.clear_memory</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">clear_memory(d::InputDist, heap, rate)</code></pre><p>Clears the accumulated flow values on the <code>heap</code> by multiplying it by <code>rate</code>. <code>rate == 0.0</code> will be equivalent to initializing the value to 0.0.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/input_distributions.jl#L129-L134">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.dist" href="#ProbabilisticCircuits.dist"><code>ProbabilisticCircuits.dist</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Get the distribution of a PC input node</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/abstract_nodes.jl#L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.eval_circuit!-Tuple{Any, AbstractVector{&lt;:ProbCircuit}, Matrix, Any}" href="#ProbabilisticCircuits.eval_circuit!-Tuple{Any, AbstractVector{&lt;:ProbCircuit}, Matrix, Any}"><code>ProbabilisticCircuits.eval_circuit!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">eval_circuit!(mars, linPC::AbstractVector{&lt;:ProbCircuit}, data::Matrix, example_ids;  node2idx::Dict{ProbCircuit, UInt32}, Float=Float32)</code></pre><p>Used internally. Evaluates the marginals of the circuit on cpu. Stores the values in <code>mars</code>.</p><ul><li><code>mars</code>: (batch_size, nodes)</li><li><code>linPC</code>: linearized PC. (i.e. <code>linearize(pc)</code>)</li><li><code>data</code>: data Matrix (num_examples, features)</li><li><code>example_ids</code>: Array or collection of ids for current batch</li><li><code>node2idx</code>: Index of each ProbCircuit node in the linearized circuit</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/queries/likelihood_cpu.jl#L35-L44">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.eval_circuit_max!-Tuple{Any, AbstractVector{&lt;:ProbCircuit}, Matrix, Any}" href="#ProbabilisticCircuits.eval_circuit_max!-Tuple{Any, AbstractVector{&lt;:ProbCircuit}, Matrix, Any}"><code>ProbabilisticCircuits.eval_circuit_max!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">eval_circuit_max!(mars, linPC::AbstractVector{&lt;:ProbCircuit}, data::Matrix, example_ids;  node2idx::Dict{ProbCircuit, UInt32}, Float=Float32)</code></pre><p>Used internally. Evaluates the MAP upward pass of the circuit on cpu. Stores the values in <code>mars</code>.</p><ul><li><code>mars</code>: (batch_size, nodes)</li><li><code>linPC</code>: linearized PC. (i.e. <code>linearize(pc)</code>)</li><li><code>data</code>: data Matrix (num_examples, features)</li><li><code>example_ids</code>: Array or collection of ids for current batch</li><li><code>node2idx</code>: Index of each ProbCircuit node in the linearized circuit</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/queries/map_cpu.jl#L83-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.flow-Tuple{InputDist, Any, Any, Any}" href="#ProbabilisticCircuits.flow-Tuple{InputDist, Any, Any, Any}"><code>ProbabilisticCircuits.flow</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">flow(d::InputDist, value, node_flow, heap)</code></pre><p>Updates the &quot;flow&quot; values in the <code>heap</code> for the input node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/input_distributions.jl#L112-L116">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.full_batch_em-Tuple{CuBitsProbCircuit, CUDA.CuArray, Any}" href="#ProbabilisticCircuits.full_batch_em-Tuple{CuBitsProbCircuit, CUDA.CuArray, Any}"><code>ProbabilisticCircuits.full_batch_em</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">full_batch_em(bpc::CuBitsProbCircuit, raw_data::CuArray, num_epochs; batch_size, pseudocount)</code></pre><p>Update the paramters of the CuBitsProbCircuit by doing EM on the full batch (i.e. update paramters at the end of each epoch).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/parameters/em.jl#L328-L332">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.hclt-Tuple{Any, Any}" href="#ProbabilisticCircuits.hclt-Tuple{Any, Any}"><code>ProbabilisticCircuits.hclt</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">hclt(data, num_hidden_cats; num_cats = nothing, input_type = LiteralDist)</code></pre><p>Learns HiddenChowLiuTree (hclt) circuit structure from data.</p><ul><li><code>data</code>: Matrix or CuMatrix</li><li><code>num_hidden_cats</code>: Number of categories in hidden variables</li><li><code>input_type</code>: Distribution type for the inputs</li><li><code>num_cats</code>: Number of categories (in case of categorical inputs). Automatically deduced if not given explicilty.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/structures/hclts.jl#L9-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.init_heap_map_loglikelihood!-Tuple{InputDist, Any}" href="#ProbabilisticCircuits.init_heap_map_loglikelihood!-Tuple{InputDist, Any}"><code>ProbabilisticCircuits.init_heap_map_loglikelihood!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">init_heap_map_loglikelihood!(d::InputDist, heap)</code></pre><p>Initializes the heap for the input dist. Called before running MAP queries.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/input_distributions.jl#L88-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.init_heap_map_state!-Tuple{InputDist, Any}" href="#ProbabilisticCircuits.init_heap_map_state!-Tuple{InputDist, Any}"><code>ProbabilisticCircuits.init_heap_map_state!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">init_heap_map_state!(d::InputDist, heap)</code></pre><p>Initializes the heap for the input dist. Called before running MAP queries.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/input_distributions.jl#L80-L84">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.init_parameters-Tuple{ProbCircuit}" href="#ProbabilisticCircuits.init_parameters-Tuple{ProbCircuit}"><code>ProbabilisticCircuits.init_parameters</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">init_parameters(pc::ProbCircuit; perturbation = 0.0)</code></pre><p>Initialize parameters of ProbCircuit.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/parameters/em.jl#L248-L252">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.init_params-Tuple{InputDist, Any}" href="#ProbabilisticCircuits.init_params-Tuple{InputDist, Any}"><code>ProbabilisticCircuits.init_params</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">init_params(d::InputDist, perturbation)</code></pre><p>Returns a new distribution with same type with initialized parameters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/input_distributions.jl#L34-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.inputnodes-Tuple{Any}" href="#ProbabilisticCircuits.inputnodes-Tuple{Any}"><code>ProbabilisticCircuits.inputnodes</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get all input nodes in a given circuit</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/abstract_nodes.jl#L71">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.inputs-Tuple{Any, Any}" href="#ProbabilisticCircuits.inputs-Tuple{Any, Any}"><code>ProbabilisticCircuits.inputs</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get the inputs of a PC node</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/abstract_nodes.jl#L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.isinput-Tuple{Any}" href="#ProbabilisticCircuits.isinput-Tuple{Any}"><code>ProbabilisticCircuits.isinput</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Is the node an input node?</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/abstract_nodes.jl#L62">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.ismul-Tuple{Any}" href="#ProbabilisticCircuits.ismul-Tuple{Any}"><code>ProbabilisticCircuits.ismul</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Is the node a multiplication?</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/abstract_nodes.jl#L65">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.isonlysubedge-Tuple{Any}" href="#ProbabilisticCircuits.isonlysubedge-Tuple{Any}"><code>ProbabilisticCircuits.isonlysubedge</code></a> — <span class="docstring-category">Method</span></header><section><div><p>whether this sub edge is the only outgoing edge from sub</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/bits_circuit.jl#L73">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.ispartial-Tuple{Any}" href="#ProbabilisticCircuits.ispartial-Tuple{Any}"><code>ProbabilisticCircuits.ispartial</code></a> — <span class="docstring-category">Method</span></header><section><div><p>whether this series of edges is partial or complete</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/bits_circuit.jl#L71">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.issum-Tuple{Any}" href="#ProbabilisticCircuits.issum-Tuple{Any}"><code>ProbabilisticCircuits.issum</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Is the node a summation?</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/abstract_nodes.jl#L68">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.loglikelihood-Tuple{CuBitsProbCircuit, CUDA.CuArray}" href="#ProbabilisticCircuits.loglikelihood-Tuple{CuBitsProbCircuit, CUDA.CuArray}"><code>ProbabilisticCircuits.loglikelihood</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">loglikelihood(bpc::CuBitsProbCircuit, data::CuArray; batch_size, mars_mem = nothing)</code></pre><p>Computes Average loglikelihood of circuit given the data using gpu. See <a href="../common/#ProbabilisticCircuits.loglikelihoods"><code>loglikelihoods</code></a> for more details.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/queries/likelihood.jl#L283-L287">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.loglikelihood-Tuple{InputDist, Any, Any}" href="#ProbabilisticCircuits.loglikelihood-Tuple{InputDist, Any, Any}"><code>ProbabilisticCircuits.loglikelihood</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">loglikelihood(d::InputDist, value, heap)</code></pre><p>Returns the <code>log( P(input_var == value) )</code> according to the InputDist.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/input_distributions.jl#L63-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.loglikelihood-Tuple{ProbCircuit, Matrix, Any}" href="#ProbabilisticCircuits.loglikelihood-Tuple{ProbCircuit, Matrix, Any}"><code>ProbabilisticCircuits.loglikelihood</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">loglikelihood(root::ProbCircuit, data::Matrix, example_id; Float=Float32)</code></pre><p>Computes marginal loglikelihood recursively on cpu for a single instance <code>data[example_id, :]</code>.</p><p><strong>Note</strong>: Quite slow, only use for demonstration/educational purposes. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/queries/likelihood_cpu.jl#L69-L75">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.loglikelihoods-Tuple{CuBitsProbCircuit, CUDA.CuArray}" href="#ProbabilisticCircuits.loglikelihoods-Tuple{CuBitsProbCircuit, CUDA.CuArray}"><code>ProbabilisticCircuits.loglikelihoods</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">loglikelihoods(bpc::CuBitsProbCircuit, data::CuArray; batch_size, mars_mem = nothing)</code></pre><p>Returns loglikelihoods for each datapoint on gpu. Missing values should be denoted by <code>missing</code>.</p><ul><li><code>bpc</code>: BitCircuit on gpu</li><li><code>data</code>: CuArray{Union{Missing, data_types...}}</li><li><code>batch_size</code></li><li><code>mars_mem</code>: Not required, advanced usage. CuMatrix to reuse memory and reduce allocations. See <code>prep_memory</code> and <code>cleanup_memory</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/queries/likelihood.jl#L247-L255">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.loglikelihoods-Tuple{ProbCircuit, Matrix}" href="#ProbabilisticCircuits.loglikelihoods-Tuple{ProbCircuit, Matrix}"><code>ProbabilisticCircuits.loglikelihoods</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">loglikelihoods(pc::ProbCircuit, data::Matrix)</code></pre><p>Computes loglikelihoods of the <code>circuit</code> over the <code>data</code> on cpu. Linearizes the circuit and computes the marginals in batches.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/queries/likelihood_cpu.jl#L4-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.loglikelihoods_vectorized-Tuple{ProbCircuit, Matrix}" href="#ProbabilisticCircuits.loglikelihoods_vectorized-Tuple{ProbCircuit, Matrix}"><code>ProbabilisticCircuits.loglikelihoods_vectorized</code></a> — <span class="docstring-category">Method</span></header><section><div><p><strong>Note</strong>: Experimental**; will be removed or renamed later</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/queries/likelihood_cpu.jl#L86-L88">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.map_down_rec!-Tuple{Any, ProbCircuit, Any, Matrix, Any, Any}" href="#ProbabilisticCircuits.map_down_rec!-Tuple{Any, ProbCircuit, Any, Matrix, Any, Any}"><code>ProbabilisticCircuits.map_down_rec!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">map_down_rec!(mars, node::ProbCircuit, data, states::Matrix, batch_idx, example_idx; node2idx::Dict{ProbCircuit, UInt32}, Float=Float32)</code></pre><p>Downward pass on cpu for MAP. Recursively chooses the best (max) sum node children according to the &quot;MAP upward pass&quot; values. Updates the missing values with map_state of that input node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/queries/map_cpu.jl#L50-L55">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.map_loglikelihood-Tuple{InputDist, Any}" href="#ProbabilisticCircuits.map_loglikelihood-Tuple{InputDist, Any}"><code>ProbabilisticCircuits.map_loglikelihood</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">map_loglikelihood(d::InputDist, heap)</code></pre><p>Returns the MAP loglikelihoods the most likely state of the InputDist d</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/input_distributions.jl#L104-L108">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.map_state-Tuple{InputDist, Any}" href="#ProbabilisticCircuits.map_state-Tuple{InputDist, Any}"><code>ProbabilisticCircuits.map_state</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">map_state(d::InputDist, heap)</code></pre><p>Returns the MAP state for the InputDist d</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/input_distributions.jl#L96-L100">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.mini_batch_em-Tuple{CuBitsProbCircuit, CUDA.CuArray, Any}" href="#ProbabilisticCircuits.mini_batch_em-Tuple{CuBitsProbCircuit, CUDA.CuArray, Any}"><code>ProbabilisticCircuits.mini_batch_em</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">mini_batch_em(bpc::CuBitsProbCircuit, raw_data::CuArray, num_epochs; batch_size, pseudocount, 
    param_inertia, param_inertia_end = param_inertia, shuffle=:each_epoch)</code></pre><p>Update the parameters of the CuBitsProbCircuit by doing EM, update the parameters after each batch.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/parameters/em.jl#L386-L391">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.mulnodes-Tuple{Any}" href="#ProbabilisticCircuits.mulnodes-Tuple{Any}"><code>ProbabilisticCircuits.mulnodes</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get all multiplication nodes in a given circuit</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/abstract_nodes.jl#L74">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.multiply" href="#ProbabilisticCircuits.multiply"><code>ProbabilisticCircuits.multiply</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Multiply nodes into a single circuit</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/abstract_nodes.jl#L52">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.num_inputs-Tuple{Any}" href="#ProbabilisticCircuits.num_inputs-Tuple{Any}"><code>ProbabilisticCircuits.num_inputs</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Number of inputs of a PC node</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/abstract_nodes.jl#L84">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.num_parameters" href="#ProbabilisticCircuits.num_parameters"><code>ProbabilisticCircuits.num_parameters</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Count the number of parameters in the circuit</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/abstract_nodes.jl#L80">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.num_parameters-Tuple{InputDist, Any}" href="#ProbabilisticCircuits.num_parameters-Tuple{InputDist, Any}"><code>ProbabilisticCircuits.num_parameters</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">num_parameters(d::InputDist, independent)</code></pre><p>Returns number of parameters for the input dist.</p><ul><li><code>independent</code>: whether to only count independent parameters</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/input_distributions.jl#L17-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.num_parameters_node-Tuple{Any}" href="#ProbabilisticCircuits.num_parameters_node-Tuple{Any}"><code>ProbabilisticCircuits.num_parameters_node</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Count the number of parameters in the node</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/abstract_nodes.jl#L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.num_randvars-Tuple{Any}" href="#ProbabilisticCircuits.num_randvars-Tuple{Any}"><code>ProbabilisticCircuits.num_randvars</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Number of variables in the data structure</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/abstract_nodes.jl#L105">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.params-Tuple{InputDist}" href="#ProbabilisticCircuits.params-Tuple{InputDist}"><code>ProbabilisticCircuits.params</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">params(d::InputDist)</code></pre><p>Returns paramters of the input dist.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/input_distributions.jl#L26-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.params-Tuple{ProbCircuit}" href="#ProbabilisticCircuits.params-Tuple{ProbCircuit}"><code>ProbabilisticCircuits.params</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get the parameters associated with a node</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/abstract_nodes.jl#L44">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.prep_memory" href="#ProbabilisticCircuits.prep_memory"><code>ProbabilisticCircuits.prep_memory</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">prep_memory(reuse, sizes, exact = map(x -&gt; true, sizes))</code></pre><p>Mostly used internally. Prepares memory for the specifed size, reuses <code>reuse</code> if possible to avoid memory allocation/deallocation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/queries/likelihood.jl#L210-L214">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.psdd_num_nodes_leafs-Tuple{Any}" href="#ProbabilisticCircuits.psdd_num_nodes_leafs-Tuple{Any}"><code>ProbabilisticCircuits.psdd_num_nodes_leafs</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Count the number of decision and leaf nodes in the PSDD</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/io/psdd_io.jl#L94">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.random_region_graph-Tuple{AbstractVector}" href="#ProbabilisticCircuits.random_region_graph-Tuple{AbstractVector}"><code>ProbabilisticCircuits.random_region_graph</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">random_region_graph(X::AbstractVector, depth::Int = 5, replicas::Int = 2, num_splits::Int = 2)</code></pre><ul><li><code>X</code>: Vector of all variables to include; for the root region</li><li><code>depth</code>: how many layers to do splits</li><li><code>replicas</code>: number of replicas or paritions (replicas only used for the root region; for other regions only 1 parition (inner nodes), or 0 parition for leaves)</li><li><code>num_splits</code>: number of splits for each parition; split variables into random equaly sized regions</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/structures/rat.jl#L91-L98">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.randvars" href="#ProbabilisticCircuits.randvars"><code>ProbabilisticCircuits.randvars</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">variables(pc::ProbCircuit)::BitSet</code></pre><p>Get a bitset of variables mentioned in the circuit.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/abstract_nodes.jl#L89-L93">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.region_graph_2_pc-Tuple{RegionGraph}" href="#ProbabilisticCircuits.region_graph_2_pc-Tuple{RegionGraph}"><code>ProbabilisticCircuits.region_graph_2_pc</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">region_graph_2_pc(node::RegionGraph; num_nodes_root, num_nodes_region, num_nodes_leaf, balance_childs_parents)</code></pre><ul><li><code>num_nodes_root</code>: number of sum nodes in the root region</li><li><code>num_nodes_leaf</code>: number of sum nodes per leaf region</li><li><code>num_nodes_region</code>: number of in each region except root and leaves</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/structures/rat.jl#L199-L205">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.sample-Tuple{CuBitsProbCircuit, Any, CUDA.CuArray{T, 2} where T}" href="#ProbabilisticCircuits.sample-Tuple{CuBitsProbCircuit, Any, CUDA.CuArray{T, 2} where T}"><code>ProbabilisticCircuits.sample</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">sample(bpc::CuBitsProbCircuit, num_samples, data::CuMatrix; rng=default_rng())</code></pre><p>Generate <code>num_samples</code> for each datapoint in <code>data</code> from the joint distribution of the circuit conditioned on the <code>data</code>. Samples are generated using GPU. </p><ul><li><code>bpc</code>: Circuit on gpu (CuBitProbCircuit)</li><li><code>num_samples</code>: how many samples to generate</li><li><code>rng</code>: (Optional) Random Number Generator</li></ul><p>The size of returned CuArray is <code>(num_samples, size(data, 1), size(data, 2))</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/queries/sample.jl#L23-L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.sample-Tuple{CuBitsProbCircuit, Int64, Int64, Any}" href="#ProbabilisticCircuits.sample-Tuple{CuBitsProbCircuit, Int64, Int64, Any}"><code>ProbabilisticCircuits.sample</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">sample(bpc::CuBitsProbCircuit, num_samples::Int, num_rand_vars::Int, types; rng=default_rng())</code></pre><p>Generate <code>num_samples</code> from the joint distribution of the circuit without any conditions. Samples are genearted on the GPU. </p><ul><li><code>bpc</code>: Circuit on gpu (CuBitProbCircuit)</li><li><code>num_samples</code>: how many samples to generate</li><li><code>num_rand_vars</code>: number of random variables in the circuit</li><li><code>types</code>: Array of possible input types</li><li><code>rng</code>: (Optional) Random Number Generator</li></ul><p>The size of returned Array is <code>(num_samples, 1, size(data, 2))</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/queries/sample.jl#L2-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.sample-Tuple{ProbCircuit, Any, Any}" href="#ProbabilisticCircuits.sample-Tuple{ProbCircuit, Any, Any}"><code>ProbabilisticCircuits.sample</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">sample(pc::ProbCircuit, num_samples; rng = default_rng())</code></pre><p>Generate <code>num_samples</code> from the joint distribution of the circuit without any conditions. Samples are generated on the CPU.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/queries/sample_cpu.jl#L6-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.sample-Tuple{ProbCircuit, Any, Matrix}" href="#ProbabilisticCircuits.sample-Tuple{ProbCircuit, Any, Matrix}"><code>ProbabilisticCircuits.sample</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">sample(pc::ProbCircuit, num_samples; rng = default_rng())</code></pre><p>Generate <code>num_samples</code> from the joint distribution of the circuit conditioned on the <code>data</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/queries/sample_cpu.jl#L17-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.sample_state-Tuple{InputDist, Any, Any}" href="#ProbabilisticCircuits.sample_state-Tuple{InputDist, Any, Any}"><code>ProbabilisticCircuits.sample_state</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">sample_state(d::InputDist, threshold::Float32, heap)</code></pre><p>Returns a sample from InputDist. <code>Threshold</code> is a uniform random value in range (0, 1) given to this API by the sampleing algorithm</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/input_distributions.jl#L71-L76">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.soften_data-Tuple{Any}" href="#ProbabilisticCircuits.soften_data-Tuple{Any}"><code>ProbabilisticCircuits.soften_data</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Turn binary data into floating point data close to 0 and 1.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/parameters/em.jl#L278">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.summate" href="#ProbabilisticCircuits.summate"><code>ProbabilisticCircuits.summate</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Sum nodes into a single circuit</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/abstract_nodes.jl#L55">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.sumnodes-Tuple{Any}" href="#ProbabilisticCircuits.sumnodes-Tuple{Any}"><code>ProbabilisticCircuits.sumnodes</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get all summation nodes in a given circuit</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/abstract_nodes.jl#L77">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.unbits-Tuple{InputDist, Any}" href="#ProbabilisticCircuits.unbits-Tuple{InputDist, Any}"><code>ProbabilisticCircuits.unbits</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">unbits(d::InputDist, heap)</code></pre><p>Returns the InputDist struct from the heap. Note, each input dist type needs to store where in the heap its paramters are to be able to do this.</p><p>Used internally for moving from GPU to CPU.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/input_distributions.jl#L52-L59">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.update_parameters-Tuple{ProbabilisticCircuits.AbstractBitsProbCircuit}" href="#ProbabilisticCircuits.update_parameters-Tuple{ProbabilisticCircuits.AbstractBitsProbCircuit}"><code>ProbabilisticCircuits.update_parameters</code></a> — <span class="docstring-category">Method</span></header><section><div><p>map parameters from BitsPC back to the ProbCircuit it was created from</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/bits_circuit.jl#L403">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ProbabilisticCircuits.update_params-Tuple{InputDist, Any, Any, Any}" href="#ProbabilisticCircuits.update_params-Tuple{InputDist, Any, Any, Any}"><code>ProbabilisticCircuits.update_params</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">update_params(d::InputDist, heap, pseudocount, inertia)</code></pre><p>Update the parameters of the InputDist using stored values  on the <code>heap</code> and (<code>pseudocount</code>, <code>inertia</code>)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/blob/ae527df83d48245350fdee1ee2873b5e44ead0b9/src/nodes/input_distributions.jl#L120-L125">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../input_dists/">« Input Distributions</a><a class="docs-footer-nextpage" href="../types/">Types  »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Sunday 10 April 2022 02:48">Sunday 10 April 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
